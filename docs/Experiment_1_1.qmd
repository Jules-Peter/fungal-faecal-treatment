---
title: "Analysis of fungal isolates on faeces"
format: html
author: "Jules Peter"
editor: visual
execute: 
  warning: false
---

## Fungal treatment of faeces

This file is used for analysing the data collected on the fungal performance on faecal samples comparing growth speed and antibacterial potential.

## Growth speed analysis

This section will compare growth speed between different fungal isolates. Comparing different isolates on the same inoculum mass and substrate.

```{r}


```

If data is normal distributed test for equal variance.

Creating a box plot to visually testing

do Bartlett's test

```         
```

If not continue with Kruskal-Wallis Test

## Bacterial analysis

This section will compare the influence of the co-incubated species on the concentration of E. coli and Enterococcus.

To compare bacterial reduction potential for the fungal species with varying initial bacterial concentrations (0dpi) a method that accounts for baseline differences is needed. isolating the fungal species' effects. Here's a step-by-step approach:

### **1. Data Normalization**

Each replicate has a different initial CFU to compare the different replicates calculate the **log reduction** for each replicate to standardize results:

Log Reduction=log⁡10(CFU at 0 dpi / CFU at 14 dpi)

### **2. Statistical Analysis**

#### **Primary Test: ANCOVA (Analysis of Covariance)**

ANCOVA accounts for the initial CFU (covariate) while testing for differences in log reduction between fungal species.

Data has to be normalized first: Possible log-change percent reduction to the different base line bacteria concentrations.

This isolates the fungal species' impact on bacterial reduction.

Tests to do first:

-   Linearity between co-variate (initial CFU) and dependent variable (log reduction)

-   Homogeneity of regression slopes (test with interaction term)

-   Normality and equal variance of residuals.

If no linearity between the co-variant(initial CFU) and the dependent variable (log reduction)

```{r}

### Data normalization
###log10(initial conc/end_conc)
### or percentage reduction 100- (end conc/inital conc*100)

### Example code for testing for linearity
library(ggplot2)

### Assuming your data frame is called 'data', with columns 'initial_CFU' and 'reduction'
ggplot(data, aes(x = initial_CFU, y = reduction)) +
  geom_point() +  # Scatter plot
  geom_smooth(method = "lm", se = FALSE, color = "blue") +  # Add linear regression line
  theme_minimal() +
  labs(title = "Scatter Plot of Initial CFU vs. Reduction",
       x = "Initial CFU",
       y = "Bacterial Reduction")

# Fit for a linear model between the covaraint and the variable
model <- lm(reduction ~ initial_CFU, data = data)

# Summarize the model
summary(model)

```

Making a box plot showing the log change for each species, how much do they change in

```{r}

ggplot(data=bacterial_analysis)+
  mapping=aes(x=species, y=log_change)+
  geom_boxplot()+
  labels(title= "Log reduction of E. coli for different species",
         x="Species",
         y="log_change",
         caption="log change for bacteria according to fungal species co-incubation")


```
